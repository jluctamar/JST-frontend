{"ast":null,"code":"import { MatLegacyPaginator as MatPaginator } from '@angular/material/legacy-paginator';\nimport { MatLegacyTableDataSource as MatTableDataSource } from '@angular/material/legacy-table';\nimport { checkout, removeCartItem } from 'src/app/store/actions/order-management.actions';\nimport { selectCartItems, selectCartTotal } from 'src/app/store/selectors/order-management.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/legacy-button\";\nimport * as i4 from \"@angular/material/legacy-card\";\nimport * as i5 from \"@angular/material/legacy-table\";\nimport * as i6 from \"@angular/material/legacy-paginator\";\nfunction CartComponent_ng_container_4_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", column_r4.header, \" \");\n  }\n}\nfunction CartComponent_ng_container_4_td_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 17);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const row_r9 = i0.ɵɵnextContext().$implicit;\n    const column_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", column_r4.cell(row_r9), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CartComponent_ng_container_4_td_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function CartComponent_ng_container_4_td_2_ng_container_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const row_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.onRemoveDish(row_r9));\n    });\n    i0.ɵɵtext(2, \"Remove \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction CartComponent_ng_container_4_td_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const row_r9 = i0.ɵɵnextContext().$implicit;\n    const column_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", column_r4.header === \"Price\" ? \"$\" + column_r4.cell(row_r9) : column_r4.cell(row_r9), \" \");\n  }\n}\nfunction CartComponent_ng_container_4_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 15);\n    i0.ɵɵtemplate(1, CartComponent_ng_container_4_td_2_ng_container_1_Template, 2, 1, \"ng-container\", 16);\n    i0.ɵɵtemplate(2, CartComponent_ng_container_4_td_2_ng_container_2_Template, 3, 0, \"ng-container\", 16);\n    i0.ɵɵtemplate(3, CartComponent_ng_container_4_td_2_ng_container_3_Template, 2, 1, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r4.header === \"Dish\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r4.header === \"Actions\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r4.header !== \"Dish\" && column_r4.header !== \"Actions\");\n  }\n}\nfunction CartComponent_ng_container_4_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", column_r4.header === \"Dish\" ? \"Total\" : column_r4.header === \"Price\" ? \"$\" + ctx_r7.cartTotal : \"\", \" \");\n  }\n}\nfunction CartComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 10);\n    i0.ɵɵtemplate(1, CartComponent_ng_container_4_th_1_Template, 2, 1, \"th\", 11);\n    i0.ɵɵtemplate(2, CartComponent_ng_container_4_td_2_Template, 4, 3, \"td\", 12);\n    i0.ɵɵtemplate(3, CartComponent_ng_container_4_td_3_Template, 2, 1, \"td\", 13);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const column_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"matColumnDef\", column_r4.columnDef);\n  }\n}\nfunction CartComponent_tr_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 20);\n  }\n}\nfunction CartComponent_tr_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 21);\n  }\n}\nfunction CartComponent_tr_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 22);\n  }\n}\nconst _c0 = function () {\n  return [3];\n};\nexport let CartComponent = /*#__PURE__*/(() => {\n  class CartComponent {\n    constructor(store) {\n      this.store = store;\n      this.subscriptions = [];\n      this.cartItems = [];\n      this.dataSource = new MatTableDataSource(this.cartItems);\n      this.columns = [{\n        columnDef: 'dish',\n        header: 'Dish',\n        cell: element => `${element.imgSrc}`\n      }, {\n        columnDef: 'name',\n        header: 'Name',\n        cell: element => `${element.dishName}`\n      }, {\n        columnDef: 'price',\n        header: 'Price',\n        cell: element => `${element.price}`\n      }, {\n        columnDef: 'quantity',\n        header: 'Quantity',\n        cell: element => `${element.quantity}`\n      }, {\n        columnDef: 'actions',\n        header: 'Actions'\n      }];\n      this.displayedColumns = this.columns.map(c => c.columnDef);\n    }\n    ngOnInit() {\n      this.subscriptions.push(this.store.select(selectCartItems).subscribe(stateCartItems => {\n        this.cartItems = stateCartItems;\n        this.dataSource.data = this.cartItems;\n      }));\n      this.subscriptions.push(this.store.select(selectCartTotal).subscribe(total => {\n        this.cartTotal = total;\n      }));\n    }\n    ngAfterViewInit() {\n      this.dataSource.paginator = this.paginator;\n    }\n    onRemoveDish(cartItem) {\n      this.cartItems = this.cartItems.filter(item => item.dishName !== cartItem.dishName);\n      this.store.dispatch(removeCartItem({\n        cartItems: this.cartItems\n      }));\n    }\n    onCheckout() {\n      this.store.dispatch(checkout());\n    }\n    ngOnDestroy() {\n      this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n  }\n  CartComponent.ɵfac = function CartComponent_Factory(t) {\n    return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.Store));\n  };\n  CartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartComponent,\n    selectors: [[\"app-cart\"]],\n    viewQuery: function CartComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 11,\n    vars: 7,\n    consts: [[1, \"wrapper\"], [1, \"cart-items\"], [1, \"inner-wrapper\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", \"class\", \"table-row\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-footer-row\", \"\", \"class\", \"footer\", 4, \"matFooterRowDef\"], [\"showFirstLastButtons\", \"\", 1, \"mat-elevation-z8\", 3, \"pageSizeOptions\"], [\"mat-raised-button\", \"\", 1, \"checkout-btn\", 3, \"click\"], [3, \"matColumnDef\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"mat-footer-cell\", \"\", 4, \"matFooterCellDef\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [4, \"ngIf\"], [3, \"src\"], [\"mat-raised-button\", \"\", 1, \"remove-btn\", 3, \"click\"], [\"mat-footer-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\", 1, \"table-row\"], [\"mat-footer-row\", \"\", 1, \"footer\"]],\n    template: function CartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"div\", 2)(3, \"table\", 3);\n        i0.ɵɵtemplate(4, CartComponent_ng_container_4_Template, 4, 1, \"ng-container\", 4);\n        i0.ɵɵtemplate(5, CartComponent_tr_5_Template, 1, 0, \"tr\", 5);\n        i0.ɵɵtemplate(6, CartComponent_tr_6_Template, 1, 0, \"tr\", 6);\n        i0.ɵɵtemplate(7, CartComponent_tr_7_Template, 1, 0, \"tr\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"mat-paginator\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_9_listener() {\n          return ctx.onCheckout();\n        });\n        i0.ɵɵtext(10, \" Checkout \");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.columns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matFooterRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(6, _c0));\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.MatLegacyButton, i4.MatLegacyCard, i5.MatLegacyTable, i5.MatLegacyHeaderCellDef, i5.MatLegacyHeaderRowDef, i5.MatLegacyColumnDef, i5.MatLegacyCellDef, i5.MatLegacyRowDef, i5.MatLegacyFooterCellDef, i5.MatLegacyFooterRowDef, i5.MatLegacyHeaderCell, i5.MatLegacyCell, i5.MatLegacyFooterCell, i5.MatLegacyHeaderRow, i5.MatLegacyRow, i5.MatLegacyFooterRow, i6.MatLegacyPaginator],\n    styles: [\"*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100%;margin:0;overflow:hidden;font-family:Roboto,Helvetica Neue,serif}.mat-card[_ngcontent-%COMP%]{background-color:#d5d6d7}.material-icons[_ngcontent-%COMP%]{font-size:3rem;color:#eee}.wrapper[_ngcontent-%COMP%]{background-image:url(login-background2.jpg);background-size:cover;display:flex;justify-content:center;align-items:center;height:100%;width:100%;overflow:hidden}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]{width:70%;height:80%;overflow-y:auto;display:flex;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]{height:100%}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%;height:80%}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:1rem;height:5em}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-basis:10%;object-fit:cover;border-radius:24px;box-shadow:#eee 2px 4px 8px,#d1b483 3px 8px 10px;height:50%;width:5em}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{background-color:#455a64;color:#eee;font-size:1rem;box-shadow:inset 0 0 5px #eee;border-radius:12px;transition:.2s}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background-color:#d1b483}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{font-weight:700}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]{margin-top:16px;width:100%;background-color:#455a64;color:#eee;transition:.2s}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:red}@media only screen and (max-width: 767px) and (orientation: portrait){.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]{width:100%;height:100%}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.8rem;height:5em}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:35%;width:2em}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{padding-right:4px;padding-left:4px;font-size:.7rem;min-width:55px;line-height:28px}}@media only screen and (max-width: 767px) and (orientation: landscape){.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]{width:100%;height:100%}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{min-height:82%}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   tr.mat-header-row[_ngcontent-%COMP%]{height:40px}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:1rem}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.8rem;height:3em}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:35%;width:2em}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{padding-right:4px;padding-left:4px;font-size:.7rem;min-width:55px;line-height:28px}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]     .mat-paginator-container{min-height:45px}}@media only screen and (min-width: 768px) and (max-width: 1024px) and (orientation: portrait){.wrapper[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width: 768px) and (max-width: 1024px) and (orientation: landscape){.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]{width:100%;height:100%}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{min-height:82%}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   tr.mat-header-row[_ngcontent-%COMP%]{height:40px}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:1rem}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.8rem;height:3em}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:35%;width:2em}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{padding-right:4px;padding-left:4px;font-size:.7rem;min-width:55px;line-height:28px}.wrapper[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]     .mat-paginator-container{min-height:45px}}\"]\n  });\n  return CartComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}