{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { addCartItem } from 'src/app/store/actions/order-management.actions';\nimport { selectCartItems } from 'src/app/store/selectors/order-management.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/material/legacy-button\";\nimport * as i4 from \"@angular/material/legacy-form-field\";\nimport * as i5 from \"@angular/material/legacy-card\";\nimport * as i6 from \"@angular/material/legacy-select\";\nimport * as i7 from \"@angular/material/legacy-core\";\nexport let ItemDetailsComponent = /*#__PURE__*/(() => {\n  class ItemDetailsComponent {\n    constructor(store) {\n      this.store = store;\n      this.closeDetails = new EventEmitter();\n      this.subscriptions = [];\n      this.cartItems = [];\n      this.newCartItem = {\n        dishName: '',\n        imgSrc: '',\n        price: 0,\n        quantity: 0\n      };\n      this.quantity = 0;\n    }\n    ngOnInit() {\n      this.subscriptions.push(this.store.select(selectCartItems).subscribe(items => {\n        this.cartItems = items;\n      }));\n    }\n    onAddToCart() {\n      this.newCartItem.dishName = this.dish.title;\n      this.newCartItem.price = parseInt(this.dish.price);\n      this.newCartItem.imgSrc = this.dish.imgSrc;\n      this.newCartItem.quantity = this.quantity;\n      if (!this.checkForDuplicates(this.newCartItem)) {\n        this.cartItems = [...this.cartItems, this.newCartItem];\n      }\n      this.store.dispatch(addCartItem({\n        cartItems: this.cartItems\n      }));\n      this.onClose();\n    }\n    onClose() {\n      this.closeDetails.emit();\n    }\n    checkForDuplicates(newDish) {\n      let itemCopy = null;\n      let hasDuplicate = false;\n      this.cartItems.forEach(item => {\n        if (newDish.dishName === item.dishName) {\n          // update quantity \n          itemCopy = Object.assign({}, item);\n          itemCopy['quantity'] = item.quantity + newDish.quantity;\n          this.cartItems = this.cartItems.filter(item => item.dishName !== itemCopy.dishName);\n          this.cartItems.push(itemCopy);\n          hasDuplicate = true;\n        }\n      });\n      return hasDuplicate;\n    }\n    ngOnDestroy() {\n      this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n  }\n  ItemDetailsComponent.ɵfac = function ItemDetailsComponent_Factory(t) {\n    return new (t || ItemDetailsComponent)(i0.ɵɵdirectiveInject(i1.Store));\n  };\n  ItemDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ItemDetailsComponent,\n    selectors: [[\"app-item-details\"]],\n    inputs: {\n      dish: \"dish\"\n    },\n    outputs: {\n      closeDetails: \"closeDetails\"\n    },\n    decls: 39,\n    vars: 14,\n    consts: [[1, \"details-wrapper\"], [1, \"img-container\"], [\"alt\", \"\", 1, \"dish-image\", 3, \"src\"], [1, \"descript-container\"], [1, \"descript\"], [1, \"action-container\"], [\"appearance\", \"standard\"], [\"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\"], [1, \"button-container\"], [\"mat-flat-button\", \"\", \"type\", \"button\", 3, \"disabled\", \"click\"], [\"mat-button\", \"\", 3, \"click\"]],\n    template: function ItemDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\")(2, \"mat-card-header\")(3, \"mat-card-title\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 1);\n        i0.ɵɵelement(6, \"img\", 2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"mat-card-content\")(8, \"div\", 3)(9, \"p\", 4);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 5)(12, \"h3\");\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"mat-form-field\", 6)(15, \"mat-label\");\n        i0.ɵɵtext(16, \"QTY\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-select\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ItemDetailsComponent_Template_mat_select_ngModelChange_17_listener($event) {\n          return ctx.quantity = $event;\n        });\n        i0.ɵɵelementStart(18, \"mat-option\", 8);\n        i0.ɵɵtext(19, \"1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"mat-option\", 8);\n        i0.ɵɵtext(21, \"2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"mat-option\", 8);\n        i0.ɵɵtext(23, \"3\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"mat-option\", 8);\n        i0.ɵɵtext(25, \"4\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"mat-option\", 8);\n        i0.ɵɵtext(27, \"5\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"mat-option\", 8);\n        i0.ɵɵtext(29, \"6\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"mat-option\", 8);\n        i0.ɵɵtext(31, \"7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"mat-option\", 8);\n        i0.ɵɵtext(33, \"8\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(34, \"div\", 9)(35, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function ItemDetailsComponent_Template_button_click_35_listener() {\n          return ctx.onAddToCart();\n        });\n        i0.ɵɵtext(36, \"Cart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function ItemDetailsComponent_Template_button_click_37_listener() {\n          return ctx.onClose();\n        });\n        i0.ɵɵtext(38, \"Close\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.dish.title);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.dish.imgSrc, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.dish.description);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"$\", ctx.dish.price, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.quantity);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"value\", 1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 2);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 3);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 4);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 6);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 7);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 8);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.quantity == 0);\n      }\n    },\n    dependencies: [i2.NgControlStatus, i2.RequiredValidator, i2.NgModel, i3.MatLegacyButton, i4.MatLegacyFormField, i4.MatLegacyLabel, i5.MatLegacyCard, i5.MatLegacyCardHeader, i5.MatLegacyCardContent, i5.MatLegacyCardTitle, i6.MatLegacySelect, i7.MatLegacyOption],\n    styles: [\"*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100%;margin:0;overflow:hidden;font-family:Roboto,Helvetica Neue,serif}.mat-card[_ngcontent-%COMP%]{background-color:#d5d6d7}.material-icons[_ngcontent-%COMP%]{font-size:3rem;color:#eee}.details-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:500px;height:400px;display:flex;flex-direction:column;justify-content:space-between;border-width:thick;border:outset}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;width:100%;align-items:center}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{width:150px;height:150px;border:2px solid #fff;border-radius:100px;margin-bottom:16px;box-shadow:11px 14px 19px #00000080}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;width:150px;border-radius:190px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .descript-container[_ngcontent-%COMP%]{font-size:.8rem;padding-left:16px;padding-right:16px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .descript-container[_ngcontent-%COMP%]   .descript[_ngcontent-%COMP%]{padding-bottom:8px;padding-right:8px;padding-left:8px;border-bottom-style:dashed;border-color:#708090}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;width:100%;margin-top:32px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:32px;font-weight:700;line-height:36px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:4em}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-focused[_ngcontent-%COMP%]{border-top-color:#d1b483}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#455a64;color:#eee;margin-right:8px;font-size:1rem;transition:.2s}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d1b483}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .mat-flat-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]{background-color:gray}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .mat-flat-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]:hover{background-color:none}@media only screen and (max-width: 767px) and (orientation: portrait){.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:95%;height:460px;justify-content:space-evenly}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{width:130px;height:130px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .dish-image[_ngcontent-%COMP%]{width:130px;height:130px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2rem}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .descript-container[_ngcontent-%COMP%]   .descript[_ngcontent-%COMP%]{max-height:90px;overflow-y:scroll}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:8px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:4px}}@media only screen and (max-width: 767px) and (orientation: landscape){.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:90%;transform:translateY(28px);height:260px;justify-content:space-evenly}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{width:90px;height:90px;margin-bottom:8px;box-shadow:7px 10px 19px #00000080}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .dish-image[_ngcontent-%COMP%]{width:90px;height:90px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:8px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .descript-container[_ngcontent-%COMP%]   .descript[_ngcontent-%COMP%]{max-height:80px;overflow-y:scroll;margin-bottom:4px}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{margin-top:0}.details-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}}\"]\n  });\n  return ItemDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}